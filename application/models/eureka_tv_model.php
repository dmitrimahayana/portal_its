<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class Eureka_tv_model extends Base_its_model {	function __construct()    {        // Call the Model constructor        parent::__construct();		$this->table_name = "eureka";		$this->primary_key = "id_eureka";		$this->unique_key = "name";    }		function get_all_online($num=0)	{		$used = $this->load->database('its', TRUE);		$used->select('sm.*');		$used->from("$this->table_name as sm");		if($num>0)		{			$offset = 0;			$used->limit($num, $offset);		}		$used->where('online',1);		$used->order_by('last_update', 'desc');				$query = $used->get();		return $query->result();	}		function get_post_data()	{		if($_POST['online'] == null) {$_POST['online'] = 0;}		$insert = array(			'name' => $_POST['name'] ,			'title' => $_POST['title'] ,			'link' => $_POST['link'] ,			'youtube_id' => $_POST['youtube_id'],			'last_update' => gmt_to_local(local_to_gmt(time()), 'UP7', FALSE),			'online' => $_POST['online']		);		return $insert;	}		function add()	{		$insert = $this->get_post_data();		return parent::add($insert);	}		function edit()	{		$insert = $this->get_post_data();		return parent::edit($insert);	}}/* End of Eureka TV Model *//* 31 Juli 2012 [10:38 AM] */